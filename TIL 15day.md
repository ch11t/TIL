# 판다스 그룹별 집계

* 그룹별 집계 (groupby)

  > 데이터로부터 동일한 객체를 가진 데이터만 따로 뽑아 기술통계 데이터를 추출
  >
  > 엑셀의 피봇테이블 (pivot table) 기능과 비슷

  > groupby 명령어는 분할 -> 적용 -> 결합 과정을 거침
  >
  > ` 분할 (split) : 같은 종류의 데이터끼리 나누는 기능
  >
  > ` 적용 (apply) : 데이터 블록마다 sum, count, mean 등 연산 적용
  >
  > ` 결합 (combine) : 연산 함수가 적용된 각 블록들을 합침

  > `df.groupby("Team")["Points"].sum()`

* 멀티 인덱스 그룹별 집계

  > 한 개 이상의 열을 기준으로 그룹별 집계를 실행
  >
  > ` 리스트를 사용하여 여려 개의 열 이름을 기준으로 넣으면 여러 열이 키 값이 되어 결과 출력
  >
  > ` 계층적 인덱스 ( hierarchical index ) 형태

* 멀티 인덱스

  > 한 개 이상의 열로 그룹별 집계 수행하면 여러 열이 모두 인덱스로 반환됨

* 그룹화되 ( grouped ) 상태

  > 분할 -> 적용 -> 결합 중에서 분할까지만 이루어진 상태

* get_group 함수

  > 해당 키 값을 기준으로 분할된 데이터프레임 객체를 확인

* 집계 (aggregation)

  > 요약된 통계 정보를 추출
  >
  > agg 함수 : min , 넘파이 mean 등 기존 함수 그대로 적용

* 변환(transformation)

  > 해당 정보를 변환
  >
  > 키 값별로 요약된 정보가 아닌 개별 데이터 변환 지원
  >
  > 적용 시점에서는 그룹화된 상태의 값으로 적용

* 필터 ( filter )

  > 특정 조건으로 데이터를 검색
  >
  > 주로 filter 함수 사용

---



# 판다스 병합과 연결

* 병합( merge )

  > 두개의 데이터를 특정 기준한 기준을 가지고 하나로 통합하는 작업

* SQL 에서는 조인( join ) 이라는 표현을 더 많이 사용

* 내부 조인 ( inner join )

  > 키 값을 기준으로 두 테이블에 모두 존재하는 키 값의 행끼리 병합

* 완전 조인 ( full join )

  > 두 개의 테이블에서 각각의 행을 병합
  >
  > 두 테이블에서 동일한 키 값을 가진 행은 통합하고, 두 테이블 중 하나라도 키 값이 존재하지 않는다면 존재하는 쪽의 데이터만 남겨둠

* 왼쪽 조인 ( left join )

  > 왼쪽 테이블의 값을 기준으로 같은 키 값을 소유하고 있는 행을 병합하고, 오른쪽 테이블에 해당 키 값이 존재하지 않는다면 해당 행은 삭제

* 오른쪽 조인 ( right join )

  > 오른쪽 테이블의 값을 기준으로 같은 키 값을 소유하고 있는 행을 병합하고, 왼쪽 테이블에 해당 키 값이 존재하지 않는다면 해당 핵은 삭제

* 내부 조인 ( inner join )

  > 가장 기본적인 조인
  >
  > 집합으로 보면 양쪽의 교집합 데이터를 통합

* left_on과 right_on 매개변수

  > 왼쪽 테이블과 오른쪽 테이블의 키 값이 다른 경우
  >
  > left_on과 right_on 매개변수를 사용하여 각 테이블 키 값을 입력

* 왼쪽 조인

  > 왼쪽 테이블을 기준으로 데이터를 병합
  >
  > 오른쪽 테이블에 왼쪽 테이블에 있는 키 값이 존재하지 않는다면 NaN으로 출력

* 오른쪽 조인

  > 오른쪽 테이블 기준으로 데이터를 병합

* 완전 조인

  > 두 테이블의 합집합을 의미
  >
  > ` 양쪽에 같은 키 값이 있는 데이터는 합치고 나머지는 NaN

* 인덱스에 의한 병합

  > 인덱스 값을 키 값으로 하여 두 테이블을 병합할 수 있음
  >
  > 인덱스가 의미 있는 열로 지정되어 있거나, 두 데이터가 모두 순서대로 들어가 있는 경우에 사용
  >
  > right_index나 left_index 매개변수

* 연결 ( concatenate )

  > 두 테이블을 그대로 붙임
  >
  > 데이터의 스키마가 동일할 때 그대로 연결
  >
  > 주로 세로로 데이터를 연결
  >
  > * concat 함수 : 두개의 서로 다른 테이블을 하나로 합침
  >
  > * append 함수 : 기존 테이블 하나에 다른 테이블을 붙임
  >
  > * append 함수는 파일을 한 개씩 합치기 때문에 두 개 이상의 데이터프레임을 합칠때에는
  >
  >   concat 함수를 쓰는 것이 좋다.